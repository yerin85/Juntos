{"remainingRequest":"E:\\juntos\\src\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\juntos\\src\\frontend\\src\\views\\SearchAnimal.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\juntos\\src\\frontend\\src\\views\\SearchAnimal.vue","mtime":1640698313673},{"path":"E:\\juntos\\src\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\juntos\\src\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\juntos\\src\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\juntos\\src\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICByZXR1cm4gewogICAgICAgIHNlYXJjaHdvcmQ6ICcnLAogICAgICAgIGl0ZW1zOiBbXSwKICAgICAgICBvcHRpb25zOiBbXSwKICAgICAgICB1cGtpbmQ6ICcnLAogICAgICAgIHBpY2tlck9wdGlvbnM6IHsKICAgICAgICAgIHNob3J0Y3V0czogW3sKICAgICAgICAgICAgdGV4dDogJ0xhc3Qgd2VlaycsCiAgICAgICAgICAgIG9uQ2xpY2socGlja2VyKSB7CiAgICAgICAgICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgc3RhcnQuc2V0VGltZShzdGFydC5nZXRUaW1lKCkgLSAzNjAwICogMTAwMCAqIDI0ICogNyk7CiAgICAgICAgICAgICAgcGlja2VyLiRlbWl0KCdwaWNrJywgW3N0YXJ0LCBlbmRdKTsKICAgICAgICAgICAgfQogICAgICAgICAgfV0KICAgICAgICB9LAogICAgICAgIGRhdGU6ICcnLAogICAgICAgIGxvY2F0ZTogJycsCiAgICAgICAgbG9jYXRlU3ViOiAnJywKICAgICAgICBraW5kOiAnJywKICAgICAgICBraW5kbGlzdDogW10sCiAgICAgICAgc2lkb2xpc3Q6IFtdLAogICAgICAgIHNnZ2xpc3Q6IFsKICAgICAgICAgIHtvcmdkb3duTm06ICLsoITssrQiLAogICAgICAgICAgIG9yZ0NkOiAwfQogICAgICAgIF0sCiAgICAgICAgcGFnZU5vOiAwLAogICAgICAgIHRvdGFsOiAnJywKICAgICAgICBwYWdlOiAnJywKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgc2VhcmNoQW5pbWFsKHZhbCl7CiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOyAvL+yDgeuLqOydtOuPmQogICAgICAgIGlmKHZhbCAhPT0gUG9pbnRlckV2ZW50KXsKICAgICAgICAgIHRoaXMucGFnZSA9IHZhbDsKICAgICAgICB9ZWxzZXsKICAgICAgICAgIHRoaXMucGFnZSA9IDE7CiAgICAgICAgfQogICAgICAgIHZhciB1cGtpbmQgPSB0aGlzLnVwa2luZDsKICAgICAgICAvKiB2YXIga2luZCA9IHRoaXMua2luZDsKICAgICAgICB2YXIgbG9jYXRlID0gdGhpcy5sb2NhdGU7CiAgICAgICAgdmFyIGxvY2F0ZVN1YiA9IHRoaXMubG9jYXRlU3ViOyAqLwogICAgICAgIHZhciBkYXRlID0gdGhpcy5kYXRlOyAKCiAgICAgICAgdmFyIGJnbmRlID0gZGF0ZVswXTsKICAgICAgICB2YXIgZW5kZGUgPSBkYXRlWzFdOwoKICAgICAgICBpZih1cGtpbmQgPT0gJycpewogICAgICAgICAgYWxlcnQoJ+yEoO2DnScpOyAKICAgICAgICAgIHJldHVybjsgLy/tlajsiJgg67mg7KC464KY6rCA6riwCiAgICAgICAgfQogICAgICAgIAogICAgICAgIHZhciB1cmwgPSAnL29wZW5hcGkvc2VydmljZS9yZXN0L2FiYW5kb25tZW50UHVibGljU3J2Yy9hYmFuZG9ubWVudFB1YmxpYyc7CiAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gJz8nICsgZW5jb2RlVVJJQ29tcG9uZW50KCdiZ25kZScpICsgJz0nICsgYmduZGUgKyAnJicgKyBlbmNvZGVVUklDb21wb25lbnQoJ2VuZGRlJykgKyAnPScgKyBlbmRkZSArICcmJyArIGVuY29kZVVSSUNvbXBvbmVudCgndXBraW5kJykgKyAnPScgKyB1cGtpbmQKICAgICAgICArICcmJyArIGVuY29kZVVSSUNvbXBvbmVudCgncGFnZU5vJykgKyAnPScgKyB0aGlzLnBhZ2UKICAgICAgICArICcmJyArIGVuY29kZVVSSUNvbXBvbmVudCgnbnVtT2ZSb3dzJykgKyAnPScgKyAxMAogICAgICAgICsgJyYnICsgZW5jb2RlVVJJQ29tcG9uZW50KCdTZXJ2aWNlS2V5JykgKyAnPScgKyB0aGlzLiRrZXkgCgogICAgICAgIHRoaXMuJGh0dHAuZ2V0KHVybCtxdWVyeVBhcmFtcykKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMucGFnZU5vID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5ib2R5LnRvdGFsQ291bnQgLyAxMDsKICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXNwb25zZS5kYXRhLnJlc3BvbnNlLmJvZHkuaXRlbXMuaXRlbTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KSAKICAgICAgfSwKICAgICAgc2lkb1RvU3NnKCl7CiAgICAgICAgdGhpcy5sb2NhdGVTdWIgPSBudWxsOyAvL+qwkiDstIjquLDtmZQKICAgICAgICB2YXIgdXJsID0gJy9vcGVuYXBpL3NlcnZpY2UvcmVzdC9hYmFuZG9ubWVudFB1YmxpY1NydmMvc2lndW5ndSc7CiAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gJz8nICsgZW5jb2RlVVJJQ29tcG9uZW50KCd1cHJfY2QnKSArICc9JyArIHRoaXMubG9jYXRlICsgJyYnICsgZW5jb2RlVVJJQ29tcG9uZW50KCdTZXJ2aWNlS2V5JykgKyAnPScgKyB0aGlzLiRrZXk7IAoKICAgICAgICB0aGlzLiRodHRwLmdldCh1cmwrcXVlcnlQYXJhbXMpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAKICAgICAgICAgIGlmKHJlc3BvbnNlLmRhdGEucmVzcG9uc2UuYm9keS5pdGVtcy5pdGVtICE9PSB1bmRlZmluZWQpIHsgLy/qsJLsnbQg7JeG64qUIOqyveyasCB1bmRlZmluZWTroZwg7YyQ67OECiAgICAgICAgICAgIHRoaXMuc2dnbGlzdCA9IHJlc3BvbnNlLmRhdGEucmVzcG9uc2UuYm9keS5pdGVtcy5pdGVtOwogICAgICAgICAgICB0aGlzLnNnZ2xpc3QudW5zaGlmdCggCiAgICAgICAgICAgICAge29yZ2Rvd25ObTogIuyghOyytCIsCiAgICAgICAgICAgICAgIG9yZ0NkOiAwfSk7CiAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KQogICAgICB9LAogICAgICB1cGtpbmRUb0tpbmQoKXsKICAgICAgICB0aGlzLmtpbmQgPSBudWxsOyAvL+qwkiDstIjquLDtmZQKICAgICAgICB2YXIgdXJsID0gJy9vcGVuYXBpL3NlcnZpY2UvcmVzdC9hYmFuZG9ubWVudFB1YmxpY1NydmMva2luZCc7CiAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gJz8nICsgZW5jb2RlVVJJQ29tcG9uZW50KCd1cF9raW5kX2NkJykgKyAnPScgKyB0aGlzLnVwa2luZCArICcmJyArIGVuY29kZVVSSUNvbXBvbmVudCgnU2VydmljZUtleScpICsgJz0nICsgdGhpcy4ka2V5OyAKCiAgICAgICAgdGhpcy4kaHR0cC5nZXQodXJsK3F1ZXJ5UGFyYW1zKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgCiAgICAgICAgICBpZihyZXNwb25zZS5kYXRhLnJlc3BvbnNlLmJvZHkuaXRlbXMuaXRlbSAhPT0gdW5kZWZpbmVkKSB7IC8v6rCS7J20IOyXhuuKlCDqsr3smrAgdW5kZWZpbmVk66GcIO2MkOuzhAogICAgICAgICAgICB0aGlzLmtpbmRsaXN0ID0gcmVzcG9uc2UuZGF0YS5yZXNwb25zZS5ib2R5Lml0ZW1zLml0ZW07CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMua2luZGxpc3QpCiAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KQogICAgICB9CgogICAgfSwKICAgIGNyZWF0ZWQoKXsKCiAgICAgIC8vdXBja2luZCBvcHRpb24gYm94IGRhdGHqsJbqs6DsmKTquLAKICAgICAgdGhpcy4kaHR0cC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdGVzdDIiKQogICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLm9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KQogICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KQogICAgICAKICAgICAgLy/si5zrj4Qg642w7J207YSwIOqwluqzoOyYpOq4sAogICAgICB0aGlzLiRodHRwLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9zaWRvbGlzdCIpCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgIHRoaXMuc2lkb2xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICB9KQogICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KQogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgfQogIH0K"},{"version":3,"sources":["SearchAnimal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SearchAnimal.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"hello\">\n    \n    <!-- 종류 검색옵션 -->\n    <el-row>\n      <el-col>\n        종류\n        <el-select v-model=\"upkind\" placeholder=\"Select\" @change=\"upkindToKind\" >\n          <el-option\n            v-for=\"item in options\"\n            :key=\"item.upKindCd\"\n            :label=\"item.upKindNm\"\n            :value=\"item.upKindCd\">\n          </el-option>\n        </el-select>\n        <!-- upkind 클릭시 활성화 -->\n        <el-select v-model=\"kind\" placeholder=\"Select\">\n          <el-option\n            v-for=\"item in kindlist\"\n            :key=\"item.kindCd\"\n            :label=\"item.KNm\"\n            :value=\"item.kindCd\">\n          </el-option>\n        </el-select>  \n      </el-col>\n    </el-row>\n\n    <!-- 지역 검색옵션 -->  \n    <el-row>\n      <el-col>\n        지역\n        <el-select v-model=\"locate\" placeholder=\"시도\" @change=\"sidoToSsg\" >\n          <el-option\n            v-for=\"item in sidolist\"\n            :key=\"item.sidoCd\"\n            :label=\"item.sidoNm\"\n            :value=\"item.sidoCd\">\n          </el-option>\n        </el-select>\n        <el-select v-model=\"locateSub\" placeholder=\"시군구\" no-data-text>\n          <el-option\n            v-for=\"item in sgglist\"\n            :key=\"item.orgCd\"\n            :label=\"item.orgdownNm\"\n            :value=\"item.orgCd\">\n          </el-option>\n        </el-select>\n      </el-col>\n    </el-row>\n\n    <el-row>\n       <el-col>\n         검색날짜\n        <el-date-picker\n          v-model=\"date\"\n          type=\"daterange\"\n          range-separator=\"To\"\n          start-placeholder=\"Start date\"\n          end-placeholder=\"End date\"\n          format=\"yyyy-MM-dd\"\n          value-format=\"yyyyMMdd\">\n        </el-date-picker>\n      </el-col>\n    </el-row>\n\n    <el-row>\n       <el-col>\n      <el-button icon=\"el-icon-search\" circle \n       @click=\"searchAnimal\"></el-button>\n      </el-col>\n    </el-row>\n\n     <!-- 테이블 -->\n    <el-row>\n        <el-table :data=\"items\" border style=\"width: 100%\">\n        <el-table-column  align=\"center\" label=\"사진\">\n            <template slot-scope=\"scope\" class=\"image-slot\">\n                <el-image style=\"width: 200px; height: 200px\" :src=\"scope.row.popfile\" lazy>\n                </el-image>\n            </template>\n        </el-table-column>\n        <el-table-column  align=\"center\" label=\"특징\">\n            <template slot-scope=\"scope\">\n                품종: <span>{{scope.row.kindCd}}</span><br>\n                성별: <span>{{scope.row.sexCd}}</span><br>\n                발견장소: <span>{{scope.row.happenPlace}}</span><br>\n                특징: <span>{{scope.row.specialMark}}</span>\n            </template>\n        </el-table-column>\n        <el-table-column  align=\"center\" label=\"상태\"> \n            <template slot-scope=\"scope\">\n                   <el-tag\n                  :type=\"scope.row.processState === '보호중' ? 'success' : 'danger'\"\n                  disable-transitions\n                   effect=\"dark\">{{scope.row.processState}}</el-tag>\n            </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        :page-size=\"10\"\n        layout=\"prev, pager, next\"\n        :total=\"this.pageNo\"\n        @current-change=\"searchAnimal\">\n      </el-pagination>\n    </el-row>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n    data() {\n      return {\n        searchword: '',\n        items: [],\n        options: [],\n        upkind: '',\n        pickerOptions: {\n          shortcuts: [{\n            text: 'Last week',\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit('pick', [start, end]);\n            }\n          }]\n        },\n        date: '',\n        locate: '',\n        locateSub: '',\n        kind: '',\n        kindlist: [],\n        sidolist: [],\n        sgglist: [\n          {orgdownNm: \"전체\",\n           orgCd: 0}\n        ],\n        pageNo: 0,\n        total: '',\n        page: '',\n      }\n    },\n    methods: {\n      searchAnimal(val){\n        window.scrollTo(0, 0); //상단이동\n        if(val !== PointerEvent){\n          this.page = val;\n        }else{\n          this.page = 1;\n        }\n        var upkind = this.upkind;\n        /* var kind = this.kind;\n        var locate = this.locate;\n        var locateSub = this.locateSub; */\n        var date = this.date; \n\n        var bgnde = date[0];\n        var endde = date[1];\n\n        if(upkind == ''){\n          alert('선택'); \n          return; //함수 빠져나가기\n        }\n        \n        var url = '/openapi/service/rest/abandonmentPublicSrvc/abandonmentPublic';\n        var queryParams = '?' + encodeURIComponent('bgnde') + '=' + bgnde + '&' + encodeURIComponent('endde') + '=' + endde + '&' + encodeURIComponent('upkind') + '=' + upkind\n        + '&' + encodeURIComponent('pageNo') + '=' + this.page\n        + '&' + encodeURIComponent('numOfRows') + '=' + 10\n        + '&' + encodeURIComponent('ServiceKey') + '=' + this.$key \n\n        this.$http.get(url+queryParams)\n        .then((response) => {\n          this.pageNo = response.data.response.body.totalCount / 10;\n          this.items = response.data.response.body.items.item;\n        })\n        .catch((error) => {\n          console.log(error);\n        }) \n      },\n      sidoToSsg(){\n        this.locateSub = null; //값 초기화\n        var url = '/openapi/service/rest/abandonmentPublicSrvc/sigungu';\n        var queryParams = '?' + encodeURIComponent('upr_cd') + '=' + this.locate + '&' + encodeURIComponent('ServiceKey') + '=' + this.$key; \n\n        this.$http.get(url+queryParams)\n        .then((response) => {\n          \n          if(response.data.response.body.items.item !== undefined) { //값이 없는 경우 undefined로 판별\n            this.sgglist = response.data.response.body.items.item;\n            this.sgglist.unshift( \n              {orgdownNm: \"전체\",\n               orgCd: 0});\n          }\n          })\n        .catch((error) => {\n          console.log(error);\n        })\n      },\n      upkindToKind(){\n        this.kind = null; //값 초기화\n        var url = '/openapi/service/rest/abandonmentPublicSrvc/kind';\n        var queryParams = '?' + encodeURIComponent('up_kind_cd') + '=' + this.upkind + '&' + encodeURIComponent('ServiceKey') + '=' + this.$key; \n\n        this.$http.get(url+queryParams)\n        .then((response) => {\n          \n          if(response.data.response.body.items.item !== undefined) { //값이 없는 경우 undefined로 판별\n            this.kindlist = response.data.response.body.items.item;\n            console.log(this.kindlist)\n          }\n          })\n        .catch((error) => {\n          console.log(error);\n        })\n      }\n\n    },\n    created(){\n\n      //upckind option box data갖고오기\n      this.$http.get(\"http://localhost:8080/api/test2\")\n      .then((response) => {\n        this.options = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n      \n      //시도 데이터 갖고오기\n      this.$http.get(\"http://localhost:8080/api/sidolist\")\n      .then((response) => {\n        console.log(response)\n        this.sidolist = response.data;\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n    },\n    mounted(){\n      window.scrollTo(0, 0);\n    }\n  }\n</script>\n\n<style scoped>\n  .el-row {\n    margin-bottom: 20px;\n  }\n\n  .el-header {\n    background-color: #B3C0D1;\n    color: #333;\n    line-height: 60px;\n  }\n  \n  .el-aside {\n    color: #333;\n  }\n</style>"]}]}